%% Matriz OrientaÃ§Ã£o Euler Angles
% Yaw rotaÃ§Ã£o em torno do eixo Z
% Pitch rotaÃ§Ã£o em torno do eixo Y
% Roll rotaÃ§Ã£o em torno do eixo X

%% Clear
clear
clc

%% Parametros (3x3)
ax = 30; % Ã‚ngulo de rotaÃ§Ã£o em X
ay = 40; % Ã‚ngulo de rotaÃ§Ã£o em Y
az = 50; % Ã‚ngulo de rotaÃ§Ã£o em Z

cx = cosd(ax);
sx = sind(ax);

cy = cosd(ay);
sy = sind(ay);

cz = cosd(az);
sz = sind(az);

Rx = [1 0 0;0 cx -sx;0 sx cx];
Ry = [cy 0 sy;0 1 0;-sy 0 cy];
Rz = [cz -sz 0;sz cz 0;0 0 1];

%% Parametros (4x4) rot+pos
ax = 0; % Ã‚ngulo de rotaÃ§Ã£o em X
ay = 20; % Ã‚ngulo de rotaÃ§Ã£o em Y
az1 = 10; % Ã‚ngulo de rotaÃ§Ã£o em Z
az2 = 30; % Ã‚ngulo de rotaÃ§Ã£o em Z

cx = cosd(ax);
sx = sind(ax);

cy = cosd(ay);
sy = sind(ay);

cz1 = cosd(az1);
sz1 = sind(az1);

cz2 = cosd(az2);
sz2 = sind(az2);


qx = 1;
qy = 2;
qz = 3;
w = 1;

Rx = [1 0 0 qx;0 cx -sx qy;0 sx cx qz;0 0 0 w];
Ry1 = [cy 0 sy qx;0 1 0 qy;-sy 0 cy qz; 0 0 0 w];
Rz1 = [cz1 -sz1 0 qx;sz1 cz1 0 qy;0 0 1 qz; 0 0 0 w];
Rz2 = [cz2 -sz2 0 qx;sz2 cz2 0 qy;0 0 1 qz; 0 0 0 w];

%% EquaÃ§Ã£o da OrientaÃ§Ã£o
% OBS: Exemplo comum: Ordem ZYZ, Primeiro vocÃª rotaciona em torno de X (Roll, Ï†), Depois em torno de Y (Pitch, Î¸) 
% E por fim em torno de Z (Yaw, Ïˆ) Mas a matriz resultante Ã© multiplicada da esquerda pra direita, 
% entÃ£o: ğ‘… = ğ‘…ğ‘§(ğœ“)â‹…Rğ‘¦(ğœƒ)â‹…ğ‘…ğ‘¥(ğœ™) 
% Isso porque a matriz que fica mais Ã  direita Ã© aplicada primeiro no vetor de posiÃ§Ã£o ou orientaÃ§Ã£o.

R = Rz1*Ry1*Rz2;
disp(R);
r1 = Rz(10,1,2,3,1)
r2 = Ry(20,1,2,3,1)
r3 = Rz(30,1,2,3,1)